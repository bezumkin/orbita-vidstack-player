import{aa as o,h as c,i,W as u}from"./vidstack-BCgd_9ME.js";import{i as a,g as m}from"./vidstack-DTQV_dgc.js";function l(t,r){const e=new URLSearchParams;for(const n of Object.keys(r))e.set(n,r[n]+"");return t+"?"+e.toString()}function p(t,r="preconnect"){const e=document.querySelector(`link[href="${t}"]`);if(!o(e))return!0;const n=document.createElement("link");return n.rel=r,n.href=t,n.crossOrigin="true",document.head.append(n),!0}const s={};function f(t){if(s[t])return s[t].promise;const r=c(),e=document.querySelector(`script[src="${t}"]`);if(!o(e))return r.resolve(),r.promise;const n=document.createElement("script");return n.src=t,n.onload=()=>{r.resolve(),delete s[t]},n.onerror=()=>{r.reject(),delete s[t]},setTimeout(()=>document.head.append(n),0),r.promise}function d(t){return t==="use-credentials"?"include":i(t)?"same-origin":void 0}function g({title:t,src:r,download:e}){const n=u(e)||e===""?r.src:i(e)?e:e?.url;return S({url:n,src:r,download:e})?{url:n,name:!u(e)&&!i(e)&&e?.filename||t.toLowerCase()||"media"}:null}function S({url:t,src:r,download:e}){return i(t)&&(e&&e!==!0||a(r)||m(r))}export{g as a,l as b,d as g,f as l,p};
